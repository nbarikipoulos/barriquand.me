
mixin about(data)
  section(
    class='section',
    id=data.nav.anchor
  )
    +sectionTitle(data['title'], data['subtitle'])

    div(class='container subsection')
      p(class='has-text-justified') #{data['intro']}

    div(class='container subsection')
      div(class='columns')
        - let skillAsText = data['skill.text'];
        each key in Object.keys(skillAsText)
          div(class='column is-half has-text-justified')
            p(class='has-text-centered subtitle is-5') #{skillAsText[key]['title']}
            - let icon = 'ok' === key ? 'fas fa-check': 'fas fa-times';
            - let color = 'ok' === key ? 'has-text-success': 'has-text-danger';
            each item in skillAsText[key]['items']
              ul(class='fa-ul')
                li
                  +icon(icon, 'fa-li', color)
                  span #{item}
    div(class='container subsection')
      div(class='columns')
        div(class='column is-half')
          p(class='has-text-centered subtitle is-5') #{data.text['skill.title']}
          +skills(data['skill.bars'])
        div(class='column is-half')
          h3(class='has-text-centered subtitle is-5') #{data.text['figure.title']}
          +figures(data['figures'])

mixin skills(data)
  each skillBar in data
    +skillBar(
      skillBar['name'],
      skillBar['percent']
    )

//- title:
//- percent: percent
mixin skillBar(title, percent)

  p #{title}
  progress(
    class='progress is-radiusless is-primary',
    value=percent,
    max='100'
  )

mixin figures(data)
  div(class='columns')
    div(class='column is-5')
      +figure(data['xp'])
      +figure(data['project'])
    div(class='column is-7')
      +figure(data['client'])

//- data {value, label, [image]}
mixin figure(data)
  div(class='box')
    span(class='is-size-4 has-text-weight-bold has-text-primary') #{data['value']}
    span(class='is-size-6 has-text-weight-bold')  #{data['label']}
    if (data['image'])
      figure(class='is-hidden-touch image is-16by9')
          img(src=data['image'])
      figure(class=' is-hidden-desktop image is-16by9')
          img(src=data['image'])
